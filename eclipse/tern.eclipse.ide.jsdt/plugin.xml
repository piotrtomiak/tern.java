<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.0"?>
<!--
###############################################################################
# Copyright (c) 2013 Angelo Zerr and others.
# All rights reserved. This program and the accompanying materials
# are made available under the terms of the Eclipse Public License v1.0
# which accompanies this distribution, and is available at
# http://www.eclipse.org/legal/epl-v10.html
#
# Contributors:
#     Angelo Zerr <angelo.zerr@gmail.com> - Initial API and implementation 
###############################################################################
 -->
<plugin>

	<!-- Completion Proposal for Javascript (inside Javascript file) -->
	
	<extension point="org.eclipse.wst.jsdt.ui.javaCompletionProposalComputer"
	   id="TernCompletionProposalCategory"
	   name="%TernCompletionProposalCategory.name">
	   <proposalCategory icon="icons/full/obj16/logo.png" />
	 </extension>

	<extension point="org.eclipse.wst.jsdt.ui.javaCompletionProposalComputer"
	   id="TernCompletionProposalComputer">
	   <javaCompletionProposalComputer
	      class="tern.eclipse.ide.jsdt.internal.contentassist.TernCompletionProposalComputer"
	      categoryId="tern.eclipse.ide.jsdt.TernCompletionProposalCategory">
	   </javaCompletionProposalComputer>
	 </extension>

	<!-- Completion Proposal for Javascript (inside HTML) -->
	 
	 <extension point="org.eclipse.wst.sse.ui.completionProposal">
	  <proposalCategory
	      id="tern.eclipse.ide.jsdt.internal.contentassist.TernContentAssistProcessor"
	      name="%TernCompletionProposalCategory.name"
	      icon="icons/full/obj16/logo.png">
	  </proposalCategory>
	  <proposalComputer
	      activate="true"
	      categoryId="tern.eclipse.ide.jsdt.internal.contentassist.TernContentAssistProcessor"
	      class="tern.eclipse.ide.jsdt.internal.contentassist.TernContentAssistProcessor"
	      id="tern.eclipse.ide.jsdt.internal.contentassist.TernContentAssistProcessor">
	     <contentType
	        id="org.eclipse.wst.html.core.htmlsource">
	      <partitionType
	            autoActivationDelegate="org.eclipse.wst.jsdt.web.ui.contentassist.JSDTAutoActivationDelegate"
	            id="org.eclipse.wst.html.SCRIPT">
	      </partitionType>
          <partitionType
              autoActivationDelegate="org.eclipse.wst.jsdt.web.ui.contentassist.JSDTAutoActivationDelegate"
              id="org.eclipse.wst.html.SCRIPT.EVENTHANDLER">
	      </partitionType>
	    </contentType>
	  </proposalComputer>
	</extension>
	 
	<extension
			point="org.eclipse.wst.sse.ui.completionProposal">
		<proposalComputerExtendedActivation
				id="tern.eclipse.ide.jsdt.internal.contentassist.TernContentAssistProcessor">
			<contentType
					id="org.eclipse.jst.jsp.core.jspsource">
				<partitionType
						autoActivationDelegate="org.eclipse.wst.jsdt.web.ui.contentassist.JSDTAutoActivationDelegate"
						id="org.eclipse.wst.html.SCRIPT">
				</partitionType>
	            <partitionType
						autoActivationDelegate="org.eclipse.wst.jsdt.web.ui.contentassist.JSDTAutoActivationDelegate"
						id="org.eclipse.wst.html.SCRIPT.EVENTHANDLER">
				</partitionType>
			</contentType>
		</proposalComputerExtendedActivation>
	</extension>
		 
	<extension
         point="org.eclipse.wst.jsdt.ui.javaEditorTextHovers">
      <hover
            label="%problemTernHover"
            description="%problemTernHoverDescription"
            class="tern.eclipse.ide.jsdt.internal.hover.JSDTProblemTernHover"
            id="tern.eclipse.ide.jsdt.internal.hover.JSDTProblemTernHover">
      </hover>         
      <hover
            label="%ternHover"
            description="%ternHoverDescription"
            class="tern.eclipse.ide.jsdt.internal.hover.JSDTTernHover"
            id="tern.eclipse.ide.jsdt.internal.hover.TernHover">
      </hover>
	</extension>
	      		 
	<extension point="org.eclipse.wst.sse.ui.editorConfiguration">
  		<documentationTextHover
        	class="tern.eclipse.ide.jsdt.internal.hover.JSDTTernHover"
        	target="org.eclipse.wst.html.SCRIPT,org.eclipse.wst.html.SCRIPT.EVENTHANDLER">
  		</documentationTextHover>
    </extension>			     
     		 
	 <!-- I don't know why, but startup should be done, otherwise TernCompletionProposalComputer is not registered? -->
	 <extension
	       point="org.eclipse.ui.startup">	
	       <startup class="tern.eclipse.ide.jsdt.internal.JSDTTernStartup" />       
	 </extension>

   <extension
         point="org.eclipse.ui.workbench.texteditor.hyperlinkDetectors">
      <hyperlinkDetector
            class="tern.eclipse.ide.jsdt.internal.hyperlink.TernHyperLinkDetector"
            id="tern.eclipse.ide.internal.ui.hyperlink.TernHyperLinkDetector"
            name="%TernHyperLinkDetector"
            activate="true"
            targetId="org.eclipse.wst.jsdt.ui.javaCode"/>
   </extension>	 
</plugin>        
